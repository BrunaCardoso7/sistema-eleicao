<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Cadastrar Candidatos</title>
   <link href="https://getbootstrap.com//docs/5.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <link rel="stylesheet" href="/css/eleicao.css">
</head>
<body>

<header class="header">
      <div class="header-value">
         <button class="button-left">
            <i class="fa-solid fa-chevron-left"></i>
         </button>
         <h2>Sistema de Eleição</h2>
      </div>
</header>
<main class="main-conteiner">
  <div class="conteiner">
      <div class="container mt-5">
          <h2 class="mb-4 text-light">Eleições iniciadas</h2>
              <div class="table-responsive">
                  <table class="table table-striped" style="background-color: #aad6ec; border-radius: 14px;">
                      <thead>
                          <tr>
                              <th scope="col">Id</th>
                              <th scope="col">Data</th>
                              <th scope="col">Local</th>
                              <th scope="col">Inicio</th>
                              <th scope="col">Fim</th>
                              <th scope="col">Ação</th>
                          </tr>
                      </thead>
                      <tbody id="eleicaoTableBody">
                          <% eleicoes.forEach(eleicao => { %>
                              <tr>
                                  <td><%= eleicao.EleicaoID %></td>
                                  <td class="data"><%= eleicao.Data %></td>
                                  <td><%= eleicao.Local %></td>
                                  <td><%= eleicao.Inicio %></td>
                                  <td><%= eleicao.Fim %></td>
                                  <td>
                                      <a href="/eleicao/<%= eleicao.EleicaoID %>" class="btn btn-primary">Ir para Eleição</a>
                                  </td>
                              </tr>
                          <% }); %>
                      </tbody>
                  </table>
              </div>
           
              <a href="/cadastroEleicao" class="btn btn-primary">Nova Eleição</a>
      </div>
   </div>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-urZbA+l6S4GHevO9TmBndXeLl7/J8SRvJq6etK0VNXQdW0Vjrm++8eZFCsVZ7k4V" crossorigin="anonymous"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const dateElements = document.querySelectorAll('.data');
    dateElements.forEach(element => {
        const date = new Date(element.textContent);
        element.textContent = date.toLocaleDateString('pt-BR', {
            year: 'numeric',
            month: '2-digit',
            day: '2-digit'
        });
    });
});
</script>
</body>
</html>